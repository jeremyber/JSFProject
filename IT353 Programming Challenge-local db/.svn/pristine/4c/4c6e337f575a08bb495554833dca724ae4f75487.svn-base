------------------------
--DROP TABLES IN ORDER--
------------------------

drop table project.Listings;
drop table project.Properties;
drop table project.Users;

------------------------
--ADD PROPERTIES TABLE--
------------------------

create table project.Users (
username        VARCHAR(32),
email           VARCHAR(64),
firstname       VARCHAR(32),
lastname        VARCHAR(32),
securityq       VARCHAR(64),
securitya       VARCHAR(64),
PRIMARY KEY (username)
);

-- Insert into the table the following values
insert into project.Users values('bllim', 'bllim@ilstu.edu', 'billy', 'lim',
'what subject is this class', 'it353');
insert into project.Users values('bmsalm', 'bmsalm@ilstu.edu', 'brandon', 'salm',
'what is your major', 'computer science');


------------------------
--ADD PROPERTIES TABLE--
------------------------

create table project.Properties (
    propertyID          INT not null primary key
                        GENERATED ALWAYS AS IDENTITY
                        (START WITH 0, INCREMENT BY 1),
    ownerID             VARCHAR(32),
    propertyName        VARCHAR(64),
    propertySize        VARCHAR(8),
    croppingSize        VARCHAR(8),
    zoningType          VARCHAR(32),
    buildings           VARCHAR(128),
    soilTypes           VARCHAR(128),
    avgProductivity     VARCHAR(128),
    legalDescription    VARCHAR(512),
    county              VARCHAR(32),
    township            VARCHAR(32),
    city                VARCHAR(32),
    state               VARCHAR(32),
    zipcode             VARCHAR(5),

    --PRIMARY KEY (propertyID),
    FOREIGN KEY (ownerID) REFERENCES project.Users(username)
);

--test data
insert into project.Properties values(DEFAULT, 'bmsalm', 'Reckamp Farm',
'60', '58', 'Farming', '2 Barns, 1 House, Seperate Garage','Dresden, Fox Silt loam',
'116 based on Bulletin 811 UoI)', 'N/A',
'McClean', 'McClean', 'Normal', 'IL', '61761');

----------------------
--ADD LISTINGS TABLE--
----------------------

create table project.Listings (
    listingID           INT not null primary key
                        GENERATED ALWAYS AS IDENTITY
                        (START WITH 0, INCREMENT BY 1),
    propertyID          INTEGER,
    ownerID             VARCHAR(32),
    title               VARCHAR(128),
    price               DECIMAL(9,2),
    tax                 DECIMAL(9,2),
    listingDate         TIMESTAMP,

    --PRIMARY KEY (listingID),
    FOREIGN KEY (propertyID) REFERENCES project.Properties,
    FOREIGN KEY (ownerID) REFERENCES project.Users(username)
);

--test data
insert into project.Listings values(DEFAULT , 0, 'bmsalm',
'SELLING: RECKAMP FARM, McCLean, IL', 14000.00, 100000.00,
TIMESTAMP('2013-11-01 23:03:20'));

